# Raw data of the sweep test

## Files

* `bandwidth` : Test bandwidth with different strided or random accesses.
* `allocation.csv` : Test bandwidth with different way allocation method (alloc_type).
* `flush.csv` : Test bandwidth with sequential accesses with different write and persistent patterns.

## Table fields

Name | Description
---|---
`__key__` | SHA1 of the primary key (for locating output logs) (internal use)
`access_size` | Access size (bytes)
`aepwatch` | If AEPWatch is enabled
`alloc_type` | Allocation type (explained below)
`avgpower` | Average power budget (watts)
`clwb_size` | The write window between issuing `clwb` insturctions
`date` | Date of the test
`emon` | If EMon is enabled
`err` | Effective read ratio
`ewr` | Effective write ratio
`fence_size` |  The write window between issuing `sfence` insturctions
`interleaving` | If 1, test was running on 6 DIMMs interleaved, otherwise test was running on 1 DIMM
`local` | If 1, the test was running on the local NUMA node
`machine` | Hostname the test was running on
`media` | `(l=local|r=remote)(dram|pmem)`
`operation` | Possible values: (`Load|Store|Store+Flush|NTStore`), an `lfence` or `sfence` was issued after operation
`peakpower` | Peak power budget (watts)
`prefetching` | If 0, cache prefetching is disabled
`tag` | Tests with the same tag were run together (sequentially with 10s delay)
`task_type` | Possible values: (`StrideBW|RandBW|AlignBW|ClwbFence`) (internal use)
`threads` | Number of threads used for the test (mapped to CPU 1..N).
`throughput` | Throughput value (average)
`version` | Head commit of the LATTester repo (internal use)


## `alloc_type`

This field defines how a thread writes to certain DIMM(s) (Figure 15 in paper)

```
+---------+                                 +---------+
|  DIMM0  +--+                           +--+  DIMM3  |
+---------+  |                           |  +---------+
             |                           |
             +-------+------------+------+
+---------+  |       |            |      |  +---------+
|  DIMM1  +--+ iMC0  |    CPU     | iMC1 +--+  DIMM4  |
+---------+  |       |            |      |  +---------+
             +-------+------------+------+
             |                           |
+---------+  |                           |  +---------+
|  DIMM2  +--+                           +--+  DIMM5  |
+---------+                                 +---------+
```
`alloc_type` | Interleaving | Buffer | DIMM Binding | Th 0 writes to
---|---|---|---|---
0 | Interleaved| Global| no restriction| DIMM0-5
1 | Interleaved| Thread-local| no restriction| DIMM0-5
2 | Interleave| Thread-local| each thread bind to a DIMM| DIMM0
3 | Interleaved| Thread-local| each thread bind to 3 DIMMs belong to an iMC| DIMM0-2
4 | Interleaved| Thread-local| each thread bind to 2 DIMMs belong to two iMCs| DIMM0, DIMM3
5 | Non-Interleaved| Global| no restriction| DIMM0-5
6 | Non-Interleaved| Thread-local| each thread bind to a DIMM| DIMM0

## AEPWatch and EMon
AEPWatch and EMon are performance monitoring tools developed by Intel. These tools read from the on-DIMM counter (AEPWatch) and PMU counters (EMon) periodically.

The data presented in this repo do not use data generated by AEPWatch and EMon. We report whether they are enabled on each run because they might impact throughput slightly.